<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FreshProno Pro Vault</title>
    <script src="https://unpkg.com/dexie/dist/dexie.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="splashScreen">
        <div class="splash-logo">FreshProno</div>
        <div class="loading-container"><div id="loadingLine" class="loading-line"></div></div>
    </div>

    <div class="freshprono-app">
        <header id="mainHeader">
            <div class="logo">FreshProno</div>
        </header>

        <main id="homePage" class="page">
            <div class="storage-section">
                <div class="storage-text"><span>Vault Storage</span><span id="storageDetail">0.0MB Used</span></div>
                <div class="storage-bar-bg"><div id="storageFill" class="storage-bar-fill"></div></div>
            </div>
            <div id="videoGrid" class="video-grid"></div>
        </main>

        <div id="playerPage" class="page hidden">
            <div class="video-container"><video id="vPlayer" controls playsinline></video></div>
            <div style="padding: 15px;">
                <h2 id="pTitle" style="font-size: 20px; color: #fff; margin-bottom: 15px;"></h2>
                <div class="action-bar" style="display:flex; gap:10px;">
                    <button class="action-btn" onclick="delVideo()" style="background:#ff4444; border:none; color:#fff; padding:10px; border-radius:5px; flex:1;">Delete</button>
                    <button class="action-btn back" onclick="closePlayer()" style="background:#FFD700; border:none; color:#000; padding:10px; border-radius:5px; flex:1;">Home</button>
                </div>
            </div>
            <div class="suggestions-header">Up Next</div>
            <div id="suggestionGrid"></div>
        </div>

        <div id="uploadPage" class="page hidden">
            <div id="uploadStatusOverlay" class="hidden">
                <div class="splash-logo">Uploading...</div>
                <div class="loading-container"><div id="uploadLine" class="loading-line"></div></div>
            </div>
            <div class="header-back" style="padding:15px;" onclick="showPage('homePage')"><i class="fas fa-arrow-left"></i> Back</div>
            <div class="thumb-box" onclick="document.getElementById('inVid').click()" style="width:100%; background:#111; height:200px; display:flex; align-items:center; justify-content:center; position:relative;">
                <video id="vidPreview" style="max-width:100%; max-height:100%;"></video>
                <div id="prePlace" style="text-align:center;"><i class="fas fa-cloud-upload-alt fa-2x"></i><p>Select Video</p></div>
            </div>
            <div style="padding:20px;">
                <input type="range" id="frameRange" min="0" value="0" step="0.1" style="width:100%; margin-bottom:15px;">
                <button id="setThumbBtn" onclick="captureThumb()" style="width:100%; padding:12px; background:#FFD700; border:none; border-radius:5px; font-weight:bold; margin-bottom:15px;">Set Cover Frame</button>
                <input type="text" id="vTitle" placeholder="Video Title..." style="width:100%; padding:12px; background:#111; color:#fff; border:1px solid #333; border-radius:5px; box-sizing:border-box;">
                <button class="upload-btn" onclick="saveData()" style="width:100%; padding:15px; background:#FFD700; border:none; border-radius:30px; font-weight:bold; margin-top:20px;">Save to Vault</button>
            </div>
        </div>

        <nav class="bottom-nav">
            <i class="fas fa-home" onclick="showPage('homePage')"></i>
            <div class="plus-circle" onclick="showPage('uploadPage')"><i class="fas fa-plus"></i></div>
            <i class="fas fa-folder"></i>
        </nav>
        <input type="file" id="inVid" accept="video/*" hidden>
        <canvas id="thumbCanvas" class="hidden"></canvas>
    </div>
    <script src="script.js"></script>
</body>
</html>
